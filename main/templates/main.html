{% extends 'base.html' %}
{% block content %}
<h1>Football News</h1>

<h5>NPM: </h5>
<p>{{ npm }}</p>

<h5>Name:</h5>
<p>{{ name }}</p>

<h5>Class:</h5>
<p>{{ class }}</p>

<a href="{% url 'main:create_news' %}">
    <button>+ Add News</button>
</a>

<a href="{% url 'main:logout' %}">
  <button>Logout</button>
</a>

<h5>Sesi terakhir login: {{ last_login }}</h5>

<a href="?filter=all">
    <button type="button">All Articles</button>
</a>

<a href="?filter=my">
    <button type="button">My Articles</button>
</a> 

<hr>

{% if not news_list %}
    <p>Belum ada data berita pada football news.</p>
{% else %}
    {% for news in news_list %}
    <div>
        <h2><a href="{% url 'main:show_news' news.id %}">{{ news.title }}</a></h2>

        <p><b>{{ news.get_category_display }}</b>{% if news.is_featured %} | 
            <b>Featured</b>{% endif %}{% if news.is_news_hot %} | 
            <b>Hot</b>{% endif %} | <i>{{ news.created_at|date:"d M Y H:i" }}</i> 
            | Views: {{ news.news_views }}</p>

        {% if news.thumbnail %}
        <img src="{{ news.thumbnail }}" alt="thumbnail" width="150" height="100">
        <br />
        {% endif %}

    <p>{{ news.content|truncatewords:25 }}...</p>

    <p><a href="{% url 'main:show_news' news.id %}"><button>Read More</button></a></p>
    </div>

    <hr>
    {% endfor %}
{% endif %}

{% endblock %}